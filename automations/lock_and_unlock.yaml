

#########################################################################
#                                                                       #
#                             USER 1 Scott                              #
#                                                                       #
#########################################################################

# Lock
- id: 'scott_locks_door'
  alias: Scott Locks the Front Door
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Locked with Keypad by user 1'') }}'
  condition: []
  action:
  - data:
      code: !secret alarm_code
    service: alarm_control_panel.alarm_arm_away
  - data:
      message: Scott locked the Front Door
    service: notify.android 
    # https://github.com/MCrissDev/HANotify

# Unlock
- id: 'scott_unlocks_door'
  alias: Scott unlocks the Front Door
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Unlocked with Keypad by user 1'') }}'
  condition: []
  action:
  - service: alarm_control_panel.alarm_disarm
    data:
      code: !secret alarm_code
  - data:
      entity_id: media_player.livingroom_mini
      message: Welcome Home Quexser. I hope you had a great day. Do not forget to
        put your keys on the hook! If you need anything just ask, I am always here
        for you.
    service: tts.google_say
  - data:
      message: Scott Unlocked the Front Door
    service: notify.android

#########################################################################
#                                                                       #
#                             USER 2                                    #
#                                                                       #
#########################################################################

# Lock
- id: '1535159799841'
  alias: Visitor has Locked the Front Door
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Locked with Keypad by user 2'') }}'
  condition: []
  action:
  - data:
      message: Visitor has locked the Front Door
    service: notify.android

# Unlock
- id: '1531340602770'
  alias: Visitor has unlocked the Front Door
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Unlocked with Keypad by user 2'') }}'
  condition: []
  action:
  - data:
      entity_id: media_player.livingroom_mini
      message: Alarm Has been Triggered... Entry notifications sent... Passcode now required.
    service: tts.google_say
  - data:
      message: Visitor has Unlocked the Front Door
    service: notify.android

#########################################################################
#                                                                       #
#                             USER 3 David                              #
#                                                                       #
#########################################################################

# Lock
- id: '1533085436981'
  alias: David Locks the Front Door
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Locked with Keypad by user 3'') }}'
  condition: []
  action:
  - data:
      code: !secret alarm_code
    service: alarm_control_panel.alarm_arm_away
  - data:
      message: David locked the Front Door
    service: notify.android
    
# Unlock
- id: '1533085436982'
  alias: David Unlocks the Front Door
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Unlocked with Keypad by user 3'') }}'
  condition: []
  action:
  - data:
      code: !secret alarm_code
    service: alarm_control_panel.alarm_disarm
  - data:
      message: David unlocked the Front Door
    service: notify.android

 #########################################################################
#                                                                       #
#                            USER 7 Tawaha                              #
#                                                                       #
#########################################################################

# Lock   
- id: '1535138517216'
  alias: Tawaha Locks the Front Door
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Locked with Keypad by user 7'') }}'
  condition: []
  action:
  - data:
      code: !secret alarm_code
    service: alarm_control_panel.alarm_arm_away
  - data:
      message: Tawaha Locked the Front Door
    service: notify.android

# Unlock
- id: '1535139496683'
  alias: Tawaha Unlocks The Front Door
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Unlocked with Keypad by user 7'') }}'
  condition: []
  action:
  - service: alarm_control_panel.alarm_disarm
    data:
      code: !secret alarm_code
  - data:
      message: Tawaha Unlocked the Front Door
    service: notify.android   
    
#########################################################################
#                                                                       #
#                             USER 29 Demo                              #
#                                                                       #
#########################################################################

# Lock
- id: 'demomodeoff'
  alias: Demo Mode OFF
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Locked with Keypad by user 29'') }}'
  condition: []
  action:
  - data:
      code: !secret alarm_code
    service: alarm_control_panel.alarm_arm_away
  - data:
      message: House Exiting Demo Mode
    service: notify.android

# Unlock
- id: 'demomodeon'
  alias: Demo Mode ON
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Unlocked with Keypad by user 29'') }}'
  condition: []
  action:
  - data:
      code: !secret alarm_code
    service: alarm_control_panel.alarm_disarm
  - service: light.turn_on
  - data:
      entity_id: media_player.living_room_max
      message: Welcome to Quexpad. I am Home Assistant, but my friends call
               me hass i o. I am the brains behind this house. I hook into all the
               different controllable devices around the house and make them
               just a bit smarter.
    service: tts.google_say
  - data:
      message: House Entering Demo Mode
    service: notify.android
#########################################################################
#                                                                       #
#                             USER 30 Mark                              #
#                                                                       #
#########################################################################

# Lock
- id: '1533085436990'
  alias: Mark Locks the Front Door
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Locked with Keypad by user 30'') }}'
  condition: []
  action:
  - data:
      code: !secret alarm_code
    service: alarm_control_panel.alarm_arm_away
  - data:
      message: Mark Locked the Front Door
    service: notify.android

# Unlock
- id: '1533085436991'
  alias: Mark Unlocks the Front Door
  trigger:
  - platform: template
    value_template: '{{ is_state_attr(''lock.front_door_deadbolt'', ''lock_status'',
      ''Unlocked with Keypad by user 30'') }}'
  condition: []
  action:
  - data:
      code: !secret alarm_code
    service: alarm_control_panel.alarm_disarm
  - data:
      message: Mark Unlocked the Front Door
    service: notify.android 
